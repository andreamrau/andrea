<!DOCTYPE html>
<html lang="en" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.88.1" />
<title>Tips and tricks for ggplot2 | Andrea Rau, PhD</title>


<meta property="twitter:site" content="@andreamrau">
<meta property="twitter:creator" content="@andreamrau">







  
    
  
<meta name="description" content="Avoiding (re-)Googling tricks for perfecting graphics">


<meta property="og:site_name" content="Andrea Rau, PhD">
<meta property="og:title" content="Tips and tricks for ggplot2 | Andrea Rau, PhD">
<meta property="og:description" content="Avoiding (re-)Googling tricks for perfecting graphics" />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://andreamrau.netlify.app/blog/2019-ggplot2-tips-tricks/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="https://andreamrau.netlify.app/blog/2019-ggplot2-tips-tricks/featured.png" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://andreamrau.netlify.app/blog/2019-ggplot2-tips-tricks/featured.png" >
    
    
  <meta itemprop="name" content="Tips and tricks for ggplot2">
<meta itemprop="description" content="Like many (most?) users of the ggplot2 visualization package, I often find myself (re-)looking up how to do specific tasks. In an effort to streamline by Googling and avoid searching over and over again for solutions to the same issues, this post will gather together some of the assorted tips and tricks that I&rsquo;ve recently looked up.
Including an inset graphI found this tip here, using the cowplot package."><meta itemprop="datePublished" content="2019-01-31T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-01-31T00:00:00+00:00" />
<meta itemprop="wordCount" content="145"><meta itemprop="image" content="https://andreamrau.netlify.app/blog/2019-ggplot2-tips-tricks/featured.png">
<meta itemprop="keywords" content="" />
  
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-133763862-2', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/sigle.ico" type="image/x-icon">
  <link rel="icon" href="/img/sigle.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.f72f5cc794fcc7b86cab520db152dc3ef55aea333df2e3496a4e1bac97849df2.css" integrity="sha256-9y9cx5T8x7hsq1INsVLcPvVa6jM98uNJak4brJeEnfI=" media="screen">
  
  
  <script src="/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js" type="text/javascript"></script>
  
  
  <script src="/main.min.87b8bc3638f41ea1fd41f332acc64b4dd3be1dc21037b1984d4c12dccf1f876f.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://andreamrau.netlify.app/" title="Home">
      <img src="/img/Logo-INRAE_Transparent.png" class="dib db-l h2 w-auto" alt="Andrea Rau, PhD">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Projects">Projects</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="talks">Talks</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/collection/" title="Research">Research</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Blog">Blog</a>
      
      
    </div>
  </nav>
</header>

<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 ph4-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Tips and tricks for ggplot2</h1>
        <h4 class="f4 mt0 mb4 lh-title measure">Avoiding (re-)Googling tricks for perfecting graphics</h4>
        <p class="f6 measure lh-copy mv1">By Andrea Rau in <a href="https://andreamrau.netlify.app/categories/tips-and-tricks">Tips and tricks</a> </p>
        <p class="f7 db mv0 ttu">January 31, 2019</p>

      

      </header>
      <section class="post-body pt5 pb4">
        <p>Like many (most?) users of the <code>ggplot2</code> visualization package, I often find myself (re-)looking up how to do specific tasks. In an effort to streamline by Googling and avoid searching over and over again for solutions to the same issues, this post will gather together some of the assorted tips and tricks that I&rsquo;ve recently looked up.</p>




<h3 id="including-an-inset-graph">Including an inset graph
  <a href="#including-an-inset-graph"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>I found this tip 
<a href="https://stackoverflow.com/questions/5219671/it-is-possible-to-create-inset-graphs" target="_blank" rel="noopener">here</a>, using the <code>cowplot</code> package. The <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> parameters in the <code>draw_plot</code> function can be used to adjust the position and size of the inset graph.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#900;font-weight:bold">library</span>(ggplot2)
<span style="color:#900;font-weight:bold">library</span>(cowplot)
<span style="color:#900;font-weight:bold">data</span>(mtcars)
main_plot <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">ggplot</span>(mtcars) <span style="color:#000;font-weight:bold">+</span> 
  <span style="color:#900;font-weight:bold">geom_point</span>(<span style="color:#900;font-weight:bold">aes</span>(x<span style="color:#000;font-weight:bold">=</span>mpg, y<span style="color:#000;font-weight:bold">=</span>disp, color<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">factor</span>(cyl))) <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">scale_color_discrete</span>(name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Cylinders&#34;</span>) <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">theme_classic</span>()
inset_plot <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">ggplot</span>(mtcars) <span style="color:#000;font-weight:bold">+</span> 
  <span style="color:#900;font-weight:bold">geom_density</span>(<span style="color:#900;font-weight:bold">aes</span>(x<span style="color:#000;font-weight:bold">=</span>mpg, fill<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">factor</span>(cyl), color<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">factor</span>(cyl)),
               alpha <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.35</span>) <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">guides</span>(fill<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">FALSE</span>, color<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">FALSE</span>) <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">theme_classic</span>()
plot_with_inset <span style="color:#000;font-weight:bold">&lt;-</span> 
  <span style="color:#900;font-weight:bold">ggdraw</span>() <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">draw_plot</span>(main_plot) <span style="color:#000;font-weight:bold">+</span>
  <span style="color:#900;font-weight:bold">draw_plot</span>(inset_plot, x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.4</span>, y <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.6</span>, width <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.4</span>, height <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0.4</span>)
plot_with_inset
</code></pre></div><p><img src="https://andreamrau.netlify.app/blog/2019-ggplot2-tips-tricks/index_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>

        
        <details closed class="f6 fw7 input-reset">
  <dl class="f6 lh-copy">
    <dt class="fw7">Posted on:</dt>
    <dd class="fw5 ml0">January 31, 2019</dd>
  </dl>
  <dl class="f6 lh-copy">
    <dt class="fw7">Length:</dt>
    <dd class="fw5 ml0">1 minute read, 145 words</dd>
  </dl>
  
  <dl class="f6 lh-copy">
    <dt class="fw7">Categories:</dt>
    <dd class="fw5 ml0"> <a href="https://andreamrau.netlify.app/categories/tips-and-tricks">Tips and tricks</a> </dd>
  </dl>
  
  
  
  <dl class="f6 lh-copy">
    <dt class="fw7">See Also:</dt>
    
  </dl>
</details>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://andreamrau.netlify.app/blog/2019-year-in-review/">&larr; 2019 year in review</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://andreamrau.netlify.app/blog/2018-year-in-review/">2018 year in review &rarr;</a>
  
</div>

      </footer>
    </article>
    
  </section>
</main>
<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2023 Andrea Rau, INRAE
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="envelope" >
      <i class="fa fa-envelope fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="twitter" >
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="google-scholar" >
      <i class="ai ai-google-scholar fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="github" >
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="orcid" >
      <i class="ai ai-orcid fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="researchgate" >
      <i class="ai ai-researchgate fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="/" title="linkedin" >
      <i class="fab fa-linkedin fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
